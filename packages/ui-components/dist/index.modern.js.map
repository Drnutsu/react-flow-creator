{"version":3,"file":"index.modern.js","sources":["../src/form/form-generator.tsx","../src/form/index.tsx","../src/index.tsx"],"sourcesContent":["import React from 'react'\nimport { Form, Input, InputNumber, Select, DatePicker, Button } from 'antd'\nimport { FormItemProps, FormGeneratorProps, FormElementTypeKeys } from './types'\n\nexport default function FormGenerator({\n  form,\n  formItems,\n  submitText = 'save',\n  onSubmit,\n  onFailed,\n  isInline = false,\n  submitButtonLoading = false,\n  ...props\n}: FormGeneratorProps) {\n  const renderSearchItemByType = (type: string, item: FormItemProps) => {\n    switch (type) {\n      case 'input':\n        return <Input {...item} />\n      case 'inputNumber':\n        return <InputNumber {...item} />\n      case 'textArea':\n        return <Input.TextArea rows={4} {...item} />\n      case 'select':\n        return (\n          <Select {...item}>\n            {item.options &&\n              item.options.map(({ value, text }) => (\n                <Select.Option key={value} value={value}>\n                  {text}\n                </Select.Option>\n              ))}\n          </Select>\n        )\n      case 'date':\n        return <DatePicker {...item} />\n      case 'rangeDate':\n        // TODO : range date picker not include in the passing props, bacause type is conflict\n        const { placeholder, ...rest } = item\n        return <DatePicker.RangePicker format='YYYY-MM-DD' {...rest} />\n      default:\n        throw new Error(\n          `Component Type ${type} is not support. please check searchItems data.`\n        )\n    }\n  }\n\n  const renderFormItems = () => (\n    <div className={`flex ${!isInline && 'flex-col'}`}>\n      {formItems.map(\n        ({ type, ...item }: { type: FormElementTypeKeys } & FormItemProps) =>\n          isInline ? (\n            <Form.Item name={item.name} className='mb-0' label={item.label}>\n              {renderSearchItemByType(type, item)}\n            </Form.Item>\n          ) : (\n            <div\n              key={item.name}\n              className={`w-${item.span ? item.span / 2 : 12}/12`}\n            >\n              <Form.Item name={item?.name} label={item.label}>\n                {renderSearchItemByType(type, item)}\n              </Form.Item>\n            </div>\n          )\n      )}\n    </div>\n  )\n\n  return (\n    <Form\n      className='search-area'\n      {...props}\n      onFinish={onSubmit}\n      onFinishFailed={onFailed}\n    >\n      {isInline ? (\n        <div className='inline-flex'>\n          <div className='flex items-center'>{renderFormItems()}</div>\n          <div className='flex items-center'>\n            <Button\n              children={submitText}\n              color='default'\n              htmlType='submit'\n              key='submit'\n              loading={submitButtonLoading}\n            />\n          </div>\n        </div>\n      ) : (\n        <div className='flex flex-col'>\n          <div className='flex-1'>{renderFormItems()}</div>\n          <div className='flex-1'>\n            <Button\n              children={submitText}\n              color='default'\n              htmlType='submit'\n              key='submit'\n              loading={submitButtonLoading}\n            />\n          </div>\n        </div>\n      )}\n    </Form>\n  )\n}\n","import React, { useCallback } from 'react'\nimport { Form as AntdForm } from 'antd'\n\nimport FormGenerator from './form-generator'\n\nconst { useForm } = AntdForm\n\nconst configs = [\n  {\n    type: 'input',\n    name: 'simple_text_input',\n    label: 'Simple Text Input',\n    placeholder: 'just simple text input type here.'\n  },\n  {\n    type: 'select',\n    name: 'required_selector',\n    label: 'Choose to require or not',\n    placeholder: 'select should we require or not',\n    showSearch: true,\n    options: [\n      { value: true, text: 'required' },\n      { value: false, text: 'not required' }\n    ]\n  }\n]\n\nexport default function FormBase() {\n  const form = useForm()\n  const onSubmit = useCallback((result) => {\n    console.log(result)\n  }, [])\n  const onFailed = useCallback((err) => {\n    console.log(err)\n  }, [])\n  const Form = useCallback(\n    () => (\n      <FormGenerator\n        formItems={configs}\n        form={form}\n        onSubmit={onSubmit}\n        onFailed={onFailed}\n      />\n    ),\n    [onSubmit, form]\n  )\n  return (\n    <div className='max-w-md py-4 px-8 bg-white shadow-lg rounded-lg'>\n      <Form />\n    </div>\n  )\n}\n","import * as React from 'react'\nimport 'antd/dist/antd.css'\nimport './styles/tailwind.css'\nimport styles from './styles.module.css'\nimport { Button } from 'antd'\n\n// Form\nimport FormBase from './form'\n\ninterface Props {\n  text: string\n}\n\nexport const ExampleComponent = ({ text }: Props) => {\n  return <div className={styles.test}>Example Component: {text}</div>\n}\n\nexport const AntdButton = () => {\n  return <Button>CONFIRM!!</Button>\n}\n\nexport { FormBase }\n"],"names":["FormGenerator","form","formItems","submitText","onSubmit","onFailed","isInline","submitButtonLoading","props","renderSearchItemByType","type","item","React","Input","InputNumber","TextArea","rows","Select","options","map","value","text","Option","key","DatePicker","placeholder","rest","RangePicker","format","Error","renderFormItems","className","Form","Item","name","label","span","onFinish","onFinishFailed","Button","children","color","htmlType","loading","useForm","AntdForm","configs","showSearch","FormBase","useCallback","result","console","log","err","ExampleComponent","styles","test","AntdButton"],"mappings":"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"}
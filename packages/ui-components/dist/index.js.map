{"version":3,"file":"index.js","sources":["../../react-flow-core/dist/store/form/actionTypes.js","../../react-flow-core/dist/store/form/actions.js","../src/form/form-generator.tsx","../src/form/index.tsx","../src/card/index.tsx","../src/index.tsx"],"sourcesContent":["export const UPDATE_FORM_UI = 'UPDATE_FORM_UI';\nexport const SUBMIT_FORM_UI = 'SUBMIT_FORM_UI';\n","import { UPDATE_FORM_UI, SUBMIT_FORM_UI } from './actionTypes';\n// TODO: form config\nexport const updateFormUI = (payload) => ({\n    type: UPDATE_FORM_UI,\n    payload\n});\nexport const submitForm = (payload) => ({\n    type: SUBMIT_FORM_UI,\n    payload\n});\n","import React from 'react'\nimport { Form, Input, InputNumber, Select, DatePicker, Button } from 'antd'\nimport { FormItemProps, FormGeneratorProps, FormElementTypeKeys } from './types'\n\nexport default function FormGenerator({\n  form,\n  formItems,\n  submitText = 'save',\n  onSubmit,\n  onFailed,\n  isInline = false,\n  submitButtonLoading = false,\n  ...props\n}: FormGeneratorProps) {\n  const renderSearchItemByType = (type: string, item: FormItemProps) => {\n    switch (type) {\n      case 'input':\n        return <Input {...item} />\n      case 'inputNumber':\n        return <InputNumber {...item} />\n      case 'textArea':\n        return <Input.TextArea rows={4} {...item} />\n      case 'select':\n        return (\n          <Select {...item}>\n            {item.options &&\n              item.options.map(({ value, text }) => (\n                <Select.Option className='text-black' key={value} value={value}>\n                  {text}\n                </Select.Option>\n              ))}\n          </Select>\n        )\n      case 'date':\n        return <DatePicker {...item} />\n      case 'rangeDate':\n        // TODO : range date picker not include in the passing props, bacause type is conflict\n        const { placeholder, ...rest } = item\n        return <DatePicker.RangePicker format='YYYY-MM-DD' {...rest} />\n      default:\n        throw new Error(\n          `Component Type ${type} is not support. please check searchItems data.`\n        )\n    }\n  }\n\n  const renderFormItems = () => (\n    <div className={`flex ${!isInline && 'flex-col'}`}>\n      {formItems.map(\n        ({ type, ...item }: { type: FormElementTypeKeys } & FormItemProps) =>\n          isInline ? (\n            <Form.Item name={item.name} className='mb-0' label={item.label}>\n              {renderSearchItemByType(type, item)}\n            </Form.Item>\n          ) : (\n            <div\n              key={item.name}\n              className={`w-${item.span ? item.span / 2 : 12}/12`}\n            >\n              <Form.Item name={item?.name} label={item.label}>\n                {renderSearchItemByType(type, item)}\n              </Form.Item>\n            </div>\n          )\n      )}\n    </div>\n  )\n\n  return (\n    <Form\n      className='search-area'\n      {...props}\n      onFinish={onSubmit}\n      onFinishFailed={onFailed}\n    >\n      {isInline ? (\n        <div className='inline-flex'>\n          <div className='flex items-center'>{renderFormItems()}</div>\n          <div className='flex items-center'>\n            <Button\n              children={submitText}\n              color='default'\n              htmlType='submit'\n              key='submit'\n              loading={submitButtonLoading}\n            />\n          </div>\n        </div>\n      ) : (\n        <div className='flex flex-col'>\n          <div className='flex-1'>{renderFormItems()}</div>\n          <div className='flex-1'>\n            <Button\n              children={submitText}\n              color='default'\n              htmlType='submit'\n              key='submit'\n              loading={submitButtonLoading}\n            />\n          </div>\n        </div>\n      )}\n    </Form>\n  )\n}\n","import React, { useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Form as AntdForm } from 'antd'\n\nimport { form as formCore } from 'react-flow-core'\nimport FormGenerator from './form-generator'\n\nconst { useForm } = AntdForm\n\n// const mockConfigs = [\n//   {\n//     type: 'input',\n//     name: 'simple_text_input',\n//     label: 'Simple Text Input',\n//     placeholder: 'just simple text input type here.'\n//   },\n//   {\n//     type: 'select',\n//     name: 'required_selector',\n//     label: 'Choose to require or not',\n//     placeholder: 'select should we require or not',\n//     showSearch: true,\n//     options: [\n//       { value: true, text: 'required' },\n//       { value: false, text: 'not required' }\n//     ]\n//   }\n// ]\n\nexport default function FormBase() {\n  const form = useForm()\n  const dispatch = useDispatch()\n  const onSubmit = useCallback((result) => {\n    console.log(' submit form ui : ', result)\n    dispatch(formCore.actions.submitForm(result))\n  }, [])\n  const onFailed = useCallback((err) => {\n    console.log(err)\n  }, [])\n  const configs = useSelector((state: any) => {\n    console.log(' state : ', state)\n    return state?.form?.config\n  })\n  console.log(' configs at FormBase : ', configs)\n  const Form = useCallback(\n    () => (\n      <FormGenerator\n        formItems={configs || []}\n        form={form}\n        onSubmit={onSubmit}\n        onFailed={onFailed}\n        submitText='Next'\n      />\n    ),\n    [onSubmit, configs, form]\n  )\n  return (\n    <div className='max-w-md py-4 px-8 bg-white shadow-lg rounded-lg'>\n      <Form />\n    </div>\n  )\n}\n","import React, { ReactChild } from 'react'\nimport cx from 'classnames'\n\nexport default function Card({\n  children,\n  className\n}: {\n  children: ReactChild\n  className: string\n}) {\n  return (\n    <div\n      className={cx(\n        'max-w-md py-4 px-8 bg-white shadow-lg rounded-lg',\n        className\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n","import * as React from 'react'\nimport 'antd/dist/antd.css'\nimport './styles/tailwind.css'\nimport styles from './styles.module.css'\nimport { Button } from 'antd'\n\n// Form\nimport FormBase from './form'\nimport Card from './card'\n\ninterface Props {\n  text: string\n}\n\nexport const ExampleComponent = ({ text }: Props) => {\n  return <div className={styles.test}>Example Component: {text}</div>\n}\n\nexport const AntdButton = () => {\n  return <Button>CONFIRM!!</Button>\n}\n\nexport { FormBase, Card }\n"],"names":["SUBMIT_FORM_UI","submitForm","payload","type","FormGenerator","formItems","submitText","onSubmit","onFailed","isInline","submitButtonLoading","props","renderSearchItemByType","item","React","Input","InputNumber","TextArea","rows","Select","options","map","value","text","Option","className","key","DatePicker","rest","RangePicker","format","Error","renderFormItems","Form","Item","name","label","span","onFinish","onFinishFailed","Button","children","color","htmlType","loading","useForm","AntdForm","FormBase","form","dispatch","useDispatch","useCallback","result","console","log","formCore","err","configs","useSelector","state","config","Card","cx","ExampleComponent","styles","test","AntdButton"],"mappings":"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"}